<div ng-controller="uslack.dashboard.controller as vm">

    <umb-box>
        <umb-box-header title-key="uslack_config"></umb-box-header>
        <umb-box-content>
            <div class="sub-view-columns">
                <div class="sub-view-column-left">
                    <h5><localize key="uslack_token" /></h5>
                    <small><localize key="uslack_token_help" /></small>
                </div>
                <div class="sub-view-column-right">
                    <input type="text" placeholder="your app token" ng-model="vm.config.token" no-validate/>
                </div>
            </div>
            <div class="sub-view-columns">
                <umb-button action="vm.btnSave()"
                            type="button"
                            button-style="action"
                            state="vm.buttonState"
                            shortcut="ctrl+c"
                            label-key="buttons_save"
                            disabled="vm.buttonState === 'busy'">
                </umb-button>


                <div class="sub-view-column-left">
                    <h5><localize key="uslack_channel" /></h5>
                    <small><localize key="uslack_channel_help" /></small>

                </div>
                <div class="sub-view-column-right">
                    <input type="text" placeholder="your app token" ng-model="vm.config.channel" />
                </div>
            </div>
            <umb-button action="vm.btnSave()"
                        type="button"
                        button-style="action"
                        state="vm.buttonState"
                        shortcut="ctrl+c"
                        label-key="buttons_save"
                        disabled="vm.buttonState === 'busy'">
            </umb-button>
        </umb-box-content>
    </umb-box>

    <umb-box ng-repeat="(section, sectionValue) in vm.config.sections">
        <umb-box-header title-key="uslack_{{section}}_title"></umb-box-header>
        <umb-box-content>
            <div ng-repeat="(key, paramValue) in sectionValue.parameters" class="sub-view-columns">
                <div class="sub-view-column-left">
                    <h5><localize key="uslack_{{section}}_{{key}}_label" /></h5>
                </div>
                <div class="sub-view-column-right">
                    <umb-toggle checked="vm.config.sections[section].parameters[key]"
                                on-click="vm.toggleSwitch(section, key)"></umb-toggle>
                </div>
            </div>
        </umb-box-content>
    </umb-box>
</div>